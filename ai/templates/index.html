<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment/Test Scheduler</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
  <div class="max-w-3xl mx-auto bg-white p-6 rounded-2xl shadow-lg">
    <h1 class="text-2xl font-bold mb-4 text-center">ðŸ“˜ Assignment & Test Scheduler</h1>

    <!-- Add form -->
    <form action="/add" method="POST" class="grid grid-cols-1 md:grid-cols-5 gap-2 mb-6">
      <input name="title" placeholder="Title" required class="border p-2 rounded col-span-2">
      <input name="date" type="date" required class="border p-2 rounded">
      <select name="type" class="border p-2 rounded">
        <option value="assignment">Assignment</option>
        <option value="test">Test</option>
      </select>
      <input name="reminder" type="number" min="0" value="1" class="border p-2 rounded" title="Days before reminder">
      <button class="bg-blue-500 text-white rounded p-2 hover:bg-blue-600">Add</button>
    </form>

    <!-- Reminder section -->
    {% if reminders %}
      <div class="bg-yellow-100 border-l-4 border-yellow-500 p-3 mb-4">
        <h2 class="font-semibold text-yellow-700">ðŸ”” Reminders for Today:</h2>
        <ul>
          {% for r in reminders %}
          <li>{{ r[3].title() }}: <b>{{ r[1] }}</b> is due on {{ r[2] }}</li>
          {% endfor %}
        </ul>
      </div>
    {% endif %}

    <!-- Table -->
    <table class="w-full border-collapse">
      <thead>
        <tr class="bg-gray-200 text-left">
          <th class="p-2">Title</th>
          <th class="p-2">Type</th>
          <th class="p-2">Date</th>
          <th class="p-2">Remind Before (days)</th>
          <th class="p-2">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for s in schedules %}
        <tr class="border-b hover:bg-gray-50">
          <td class="p-2">{{ s[1] }}</td>
          <td class="p-2">{{ s[3].title() }}</td>
          <td class="p-2">{{ s[2] }}</td>
          <td class="p-2 text-center">{{ s[4] }}</td>
          <td class="p-2"><a href="/delete/{{ s[0] }}" class="text-red-500">Delete</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</body>
</html>
